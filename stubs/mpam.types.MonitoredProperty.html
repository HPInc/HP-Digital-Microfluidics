<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>mpam.types.MonitoredProperty &mdash; MPAM  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="mpam.types.OnOff" href="mpam.types.OnOff.html" />
    <link rel="prev" title="mpam.types.Mixture" href="mpam.types.Mixture.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> MPAM
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="mpam.device.html">mpam.device</a></li>
<li class="toctree-l1"><a class="reference internal" href="mpam.drop.html">mpam.drop</a></li>
<li class="toctree-l1"><a class="reference internal" href="mpam.engine.html">mpam.engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="mpam.exceptions.html">mpam.exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="mpam.monitor.html">mpam.monitor</a></li>
<li class="toctree-l1"><a class="reference internal" href="mpam.paths.html">mpam.paths</a></li>
<li class="toctree-l1"><a class="reference internal" href="mpam.pipettor.html">mpam.pipettor</a></li>
<li class="toctree-l1"><a class="reference internal" href="mpam.processes.html">mpam.processes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="mpam.types.html">mpam.types</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="mpam.types.T.html">mpam.types.T</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.Tco.html">mpam.types.Tco</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.Tcontra.html">mpam.types.Tcontra</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.V.html">mpam.types.V</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.V2.html">mpam.types.V2</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.H.html">mpam.types.H</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.MISSING.html">mpam.types.MISSING</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.CS.html">mpam.types.CS</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.unknown_concentration.html">mpam.types.unknown_concentration</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.waste_reagent.html">mpam.types.waste_reagent</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.unknown_reagent.html">mpam.types.unknown_reagent</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.schedule.html">mpam.types.schedule</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.AsyncFunctionSerializer.html">mpam.types.AsyncFunctionSerializer</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.Barrier.html">mpam.types.Barrier</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.ChangeCallbackList.html">mpam.types.ChangeCallbackList</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.Chemical.html">mpam.types.Chemical</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.Color.html">mpam.types.Color</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.ColorAllocator.html">mpam.types.ColorAllocator</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.CombinedOperation.html">mpam.types.CombinedOperation</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.CombinedStaticOperation.html">mpam.types.CombinedStaticOperation</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.CommunicationScheduler.html">mpam.types.CommunicationScheduler</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.ComputeOp.html">mpam.types.ComputeOp</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.ConfigParams.html">mpam.types.ConfigParams</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.Delayed.html">mpam.types.Delayed</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.Dir.html">mpam.types.Dir</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.DummyState.html">mpam.types.DummyState</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.Gettable.html">mpam.types.Gettable</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.GridRegion.html">mpam.types.GridRegion</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.Liquid.html">mpam.types.Liquid</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.Missing.html">mpam.types.Missing</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.Mixture.html">mpam.types.Mixture</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">mpam.types.MonitoredProperty</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.OnOff.html">mpam.types.OnOff</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.OpScheduler.html">mpam.types.OpScheduler</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.Operation.html">mpam.types.Operation</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.Orientation.html">mpam.types.Orientation</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.Postable.html">mpam.types.Postable</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.ProcessStep.html">mpam.types.ProcessStep</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.ProcessedReagent.html">mpam.types.ProcessedReagent</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.Reagent.html">mpam.types.Reagent</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.State.html">mpam.types.State</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.StaticOperation.html">mpam.types.StaticOperation</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.TickNumber.html">mpam.types.TickNumber</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.Ticks.html">mpam.types.Ticks</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.Trigger.html">mpam.types.Trigger</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.Turn.html">mpam.types.Turn</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.UnknownConcentration.html">mpam.types.UnknownConcentration</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.XYCoord.html">mpam.types.XYCoord</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.types.XferDir.html">mpam.types.XferDir</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="erk.errors.html">erk.errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="quantities.core.html">quantities.core</a></li>
<li class="toctree-l1"><a class="reference internal" href="quantities.dimensions.html">quantities.dimensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="quantities.timestamp.html">quantities.timestamp</a></li>
<li class="toctree-l1"><a class="reference internal" href="quantities.temperature.html">quantities.temperature</a></li>
<li class="toctree-l1"><a class="reference internal" href="quantities.SI.html">quantities.SI</a></li>
<li class="toctree-l1"><a class="reference internal" href="quantities.US.html">quantities.US</a></li>
<li class="toctree-l1"><a class="reference internal" href="threading.html">threading</a></li>
<li class="toctree-l1"><a class="reference internal" href="typing.html">typing</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MPAM</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="mpam.types.html">mpam.types</a> &raquo;</li>
      <li>mpam.types.MonitoredProperty</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/stubs/mpam.types.MonitoredProperty.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="mpam-types-monitoredproperty">
<h1>mpam.types.MonitoredProperty<a class="headerlink" href="#mpam-types-monitoredproperty" title="Permalink to this headline"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="mpam.types.MonitoredProperty">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">mpam.types.</span></span><span class="sig-name descname"><span class="pre">MonitoredProperty</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val_attr</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback_list_attr</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="mpam.types.Missing.html#mpam.types.Missing" title="mpam.types.Missing"><span class="pre">mpam.types.Missing</span></a><span class="p"><span class="pre">,</span> </span><a class="reference internal" href="mpam.types.T.html#mpam.types.T" title="mpam.types.T"><span class="pre">mpam.types.T</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">Missing.SINGLETON</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_fn</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="mpam.types.Missing.html#mpam.types.Missing" title="mpam.types.Missing"><span class="pre">mpam.types.Missing</span></a><span class="p"><span class="pre">,</span> </span><a class="reference internal" href="mpam.types.T.html#mpam.types.T" title="mpam.types.T"><span class="pre">mpam.types.T</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">process_duplicates</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpam.types.MonitoredProperty" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="typing.Generic.html#typing.Generic" title="typing.Generic"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generic</span></code></a>[<a class="reference internal" href="mpam.types.T.html#mpam.types.T" title="mpam.types.T"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mpam.types.T</span></code></a>]</p>
<p>An object that behaves like a gettable and settable property, but which also
provides optional bounds checking, transformation, and a <a class="reference internal" href="mpam.types.ChangeCallbackList.html#mpam.types.ChangeCallbackList" title="mpam.types.ChangeCallbackList"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChangeCallbackList</span></code></a></p>
<p>To get access to the <a class="reference internal" href="#mpam.types.MonitoredProperty" title="mpam.types.MonitoredProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">MonitoredProperty</span></code></a>’s
<a class="reference internal" href="mpam.types.ChangeCallbackList.html#mpam.types.ChangeCallbackList" title="mpam.types.ChangeCallbackList"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChangeCallbackList</span></code></a>, use its <a class="reference internal" href="#mpam.types.MonitoredProperty.callback_list" title="mpam.types.MonitoredProperty.callback_list"><code class="xref py py-attr docutils literal notranslate"><span class="pre">callback_list</span></code></a> property:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Counter</span><span class="p">:</span>
    <span class="n">count</span> <span class="o">=</span> <span class="n">MonitoredProperty</span><span class="p">[</span><span class="nb">int</span><span class="p">](</span><span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">on_count_change</span> <span class="o">=</span> <span class="n">count</span><span class="o">.</span><span class="n">callback_list</span>

    <span class="k">def</span> <span class="nf">inc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">delta</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">count</span> <span class="o">+=</span> <span class="n">delta</span>

<span class="n">counter</span><span class="o">.</span><span class="n">on_count_change</span><span class="p">(</span><span class="k">lambda</span> <span class="n">old</span><span class="p">,</span> <span class="n">new</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Changed from </span><span class="si">{</span><span class="n">old</span><span class="si">}</span><span class="s2"> to </span><span class="si">{</span><span class="n">new</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The actual <a class="reference internal" href="mpam.types.ChangeCallbackList.html#mpam.types.ChangeCallbackList" title="mpam.types.ChangeCallbackList"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChangeCallbackList</span></code></a> for an object is not created
until somebody references it (e.g., by trying to add a callback).</p>
</div>
<p>The optional <code class="docutils literal notranslate"><span class="pre">default</span></code> value is the default value to use for this property
on all objects.  If <code class="docutils literal notranslate"><span class="pre">default_fn</span></code> is specified to be a function that takes
the object and returns a <a class="reference internal" href="mpam.types.html#mpam.types.MissingOr" title="mpam.types.MissingOr"><code class="xref py py-attr docutils literal notranslate"><span class="pre">MissingOr</span></code></a>[<code class="docutils literal notranslate"><span class="pre">T</span></code>], it is tried first the
first time the property is read (via <a class="reference internal" href="#mpam.types.MonitoredProperty.__get__" title="mpam.types.MonitoredProperty.__get__"><code class="xref py py-func docutils literal notranslate"><span class="pre">__get__()</span></code></a>) on an object.  If it
returns <a class="reference internal" href="mpam.types.MISSING.html#mpam.types.MISSING" title="mpam.types.MISSING"><code class="xref py py-attr docutils literal notranslate"><span class="pre">MISSING</span></code></a>, the <code class="docutils literal notranslate"><span class="pre">default</span></code> (if any) will be used.  If it, too,
is <a class="reference internal" href="mpam.types.MISSING.html#mpam.types.MISSING" title="mpam.types.MISSING"><code class="xref py py-attr docutils literal notranslate"><span class="pre">MISSING</span></code></a>, then the object does not have a value for the property
and an <code class="xref py py-class docutils literal notranslate"><span class="pre">AttributeError</span></code> is raised.  Otherwise, the default value
will be cached as the value.</p>
<p>When the property is set (via <a class="reference internal" href="#mpam.types.MonitoredProperty.__set__" title="mpam.types.MonitoredProperty.__set__"><code class="xref py py-func docutils literal notranslate"><span class="pre">__set__()</span></code></a>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">counter</span><span class="o">.</span><span class="n">count</span> <span class="o">=</span> <span class="mi">5</span>
</pre></div>
</div>
<p>if any callbacks have been registered for its <a class="reference internal" href="#mpam.types.MonitoredProperty.callback_list" title="mpam.types.MonitoredProperty.callback_list"><code class="xref py py-attr docutils literal notranslate"><span class="pre">callback_list</span></code></a> on an
object, all of the <a class="reference internal" href="#mpam.types.MonitoredProperty.callback_list" title="mpam.types.MonitoredProperty.callback_list"><code class="xref py py-attr docutils literal notranslate"><span class="pre">callback_list</span></code></a>’s callbacks are called, passing in
the old and new values.  This takes place after the new value has been set.
The callbacks do not happen if</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>the object does not have a value (including a default value) for the
object, either because it has not yet been set or because it has been
deleted, or</p></li>
<li><p>the old and new values are equal (as defined by <code class="docutils literal notranslate"><span class="pre">==</span></code>) and the
<code class="docutils literal notranslate"><span class="pre">process_duplicates</span></code> parameter to the constructor was not <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ol>
</div></blockquote>
<p>To check whether an object has a value for the property, use the property’s
<a class="reference internal" href="#mpam.types.MonitoredProperty.value_check" title="mpam.types.MonitoredProperty.value_check"><code class="xref py py-attr docutils literal notranslate"><span class="pre">value_check</span></code></a> property:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Counter</span><span class="p">:</span>
    <span class="n">count</span> <span class="o">=</span> <span class="n">MonitoredProperty</span><span class="p">[</span><span class="nb">int</span><span class="p">]()</span>
    <span class="n">has_count</span> <span class="o">=</span> <span class="n">count</span><span class="o">.</span><span class="n">value_check</span>

<span class="k">if</span> <span class="n">counter</span><span class="o">.</span><span class="n">has_count</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">counter</span><span class="o">.</span><span class="n">count</span><span class="p">)</span>
</pre></div>
</div>
<p>After the property is deleted (via <a class="reference internal" href="#mpam.types.MonitoredProperty.__delete__" title="mpam.types.MonitoredProperty.__delete__"><code class="xref py py-func docutils literal notranslate"><span class="pre">__delete__()</span></code></a>)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">del</span> <span class="n">counter</span><span class="o">.</span><span class="n">count</span>
</pre></div>
</div>
<p>it is reset to its initial state.  The next time it is read or has its value
checked, it is reset to its (static or computed) default value or, if there
is none, considered to not have a value.</p>
<p>To provide a public read-only property alongside a protected writable
property, use the property’s <a class="reference internal" href="#mpam.types.MonitoredProperty.getter" title="mpam.types.MonitoredProperty.getter"><code class="xref py py-attr docutils literal notranslate"><span class="pre">getter</span></code></a> property:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Counter</span><span class="p">:</span>
    <span class="n">_count</span> <span class="o">=</span> <span class="n">MonitoredProperty</span><span class="p">[</span><span class="nb">int</span><span class="p">](</span><span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">count</span> <span class="o">=</span> <span class="n">_count</span><span class="o">.</span><span class="n">getter</span>
</pre></div>
</div>
<p>Callback properties can be extended using functions akin to
<a class="reference internal" href="mpam.types.ChangeCallbackList.html#mpam.types.ChangeCallbackList" title="mpam.types.ChangeCallbackList"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChangeCallbackList</span></code></a>’s <a class="reference internal" href="mpam.types.ChangeCallbackList.html#mpam.types.ChangeCallbackList.mapped" title="mpam.types.ChangeCallbackList.mapped"><code class="xref py py-func docutils literal notranslate"><span class="pre">mapped()</span></code></a> and
<a class="reference internal" href="mpam.types.ChangeCallbackList.html#mpam.types.ChangeCallbackList.filtered" title="mpam.types.ChangeCallbackList.filtered"><code class="xref py py-func docutils literal notranslate"><span class="pre">filtered()</span></code></a>, e.g.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Counter</span><span class="p">:</span>
    <span class="n">count</span> <span class="o">=</span> <span class="n">MonitoredProperty</span><span class="p">[</span><span class="nb">int</span><span class="p">](</span><span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">on_count_change</span> <span class="o">=</span> <span class="n">count</span><span class="o">.</span><span class="n">callback_list</span>
    <span class="n">on_count_increase</span> <span class="o">=</span> <span class="n">on_count_change</span><span class="o">.</span><span class="n">filtered</span><span class="p">(</span><span class="k">lambda</span> <span class="n">old</span><span class="p">,</span> <span class="n">new</span><span class="p">:</span> <span class="n">new</span> <span class="o">&gt;</span> <span class="n">old</span><span class="p">)</span>
</pre></div>
</div>
<p>Here, a counter’s <code class="docutils literal notranslate"><span class="pre">on_count_increase</span></code> is a <a class="reference internal" href="mpam.types.ChangeCallbackList.html#mpam.types.ChangeCallbackList" title="mpam.types.ChangeCallbackList"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChangeCallbackList</span></code></a>
whose callbacks are only invoked when a change is an increase.  As with
<code class="docutils literal notranslate"><span class="pre">on_count_change</span></code>, each object gets its own <a class="reference internal" href="mpam.types.ChangeCallbackList.html#mpam.types.ChangeCallbackList" title="mpam.types.ChangeCallbackList"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChangeCallbackList</span></code></a>,
and only gets one if somebody refers to it by trying to add a callback.</p>
<p>You can also have the property refuse or modify attempted assignment by
using the <a class="reference internal" href="#mpam.types.MonitoredProperty.transform" title="mpam.types.MonitoredProperty.transform"><code class="xref py py-deco docutils literal notranslate"><span class="pre">&#64;transform</span></code></a> decorator</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@count</span><span class="o">.</span><span class="n">transform</span>
<span class="k">def</span> <span class="nf">clip_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="k">return</span> <span class="nb">min</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_count</span><span class="p">)</span>

<span class="nd">@count</span><span class="o">.</span><span class="n">transform</span>
<span class="k">def</span> <span class="nf">bounds_check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MissingOr</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
    <span class="k">return</span> <span class="n">val</span> <span class="k">if</span> <span class="n">val</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_count</span> <span class="k">else</span> <span class="n">MISSING</span>

<span class="nd">@count</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">chain</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">add_one</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">val</span><span class="o">+</span><span class="mi">1</span>
</pre></div>
</div>
<p>If the <code class="docutils literal notranslate"><span class="pre">chain</span></code> parameter is <code class="docutils literal notranslate"><span class="pre">True</span></code>, the function will be applied to the
value of any previous transformations (unless they return <a class="reference internal" href="mpam.types.MISSING.html#mpam.types.MISSING" title="mpam.types.MISSING"><code class="xref py py-attr docutils literal notranslate"><span class="pre">MISSING</span></code></a>).
Otherwise, the function replaces any current transformation for the property.</p>
<p>If the function (or any function in a chain) returns <a class="reference internal" href="mpam.types.MISSING.html#mpam.types.MISSING" title="mpam.types.MISSING"><code class="xref py py-attr docutils literal notranslate"><span class="pre">MISSING</span></code></a>, the
assignment is silently aborted.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The decorated transformation functions have their own name, not (as with
<code class="docutils literal notranslate"><span class="pre">&#64;property</span></code>), the name of the property.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The transformation chain is called <strong>before</strong> the old value is looked
up, so if the transformations modify the property , the old value for
the callbacks from this assignment will be the one immediately prior to
the actual assignment.  (Any previous assignments would have triggered
their own callbacks.)</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When extracting documentation using Sphinx/Napoleon, the types of the
properties and their derived properties are not picked up unless you are
explicit:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Counter</span><span class="p">:</span>
    <span class="n">count</span><span class="p">:</span> <span class="n">MonitoredProperty</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">MonitoredProperty</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">on_count_change</span><span class="p">:</span> <span class="n">ChangeCallbackList</span><span class="p">[</span><span class="ow">in</span><span class="p">]</span> <span class="o">=</span> <span class="n">count</span><span class="o">.</span><span class="n">callback_list</span>
</pre></div>
</div>
<p>MyPy won’t let you annotate the property as <code class="docutils literal notranslate"><span class="pre">int</span></code>, even though it
reasons correctly about it.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>T</strong> – the type of the value stored in the property.</p>
</dd>
</dl>
<p class="rubric">Attributes</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#mpam.types.MonitoredProperty.callback_list" title="mpam.types.MonitoredProperty.callback_list"><code class="xref py py-obj docutils literal notranslate"><span class="pre">callback_list</span></code></a></p></td>
<td><p>A property that returns the <a class="reference internal" href="mpam.types.ChangeCallbackList.html#mpam.types.ChangeCallbackList" title="mpam.types.ChangeCallbackList"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChangeCallbackList</span></code></a> for this <a class="reference internal" href="#mpam.types.MonitoredProperty" title="mpam.types.MonitoredProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">MonitoredProperty</span></code></a> associated with an object.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mpam.types.MonitoredProperty.callback_list_attr" title="mpam.types.MonitoredProperty.callback_list_attr"><code class="xref py py-obj docutils literal notranslate"><span class="pre">callback_list_attr</span></code></a></p></td>
<td><p>The attribute used to store the <a class="reference internal" href="mpam.types.ChangeCallbackList.html#mpam.types.ChangeCallbackList" title="mpam.types.ChangeCallbackList"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChangeCallbackList</span></code></a> on objects</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mpam.types.MonitoredProperty.getter" title="mpam.types.MonitoredProperty.getter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getter</span></code></a></p></td>
<td><p>A read-only property that returns the value associated with this <a class="reference internal" href="#mpam.types.MonitoredProperty" title="mpam.types.MonitoredProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">MonitoredProperty</span></code></a> for an object or raises <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code> if there is no such value. This can be used to provide a read-only public property alongside a writable protected property, as in ::.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mpam.types.MonitoredProperty.name" title="mpam.types.MonitoredProperty.name"><code class="xref py py-obj docutils literal notranslate"><span class="pre">name</span></code></a></p></td>
<td><p>The name of the property</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mpam.types.MonitoredProperty.val_attr" title="mpam.types.MonitoredProperty.val_attr"><code class="xref py py-obj docutils literal notranslate"><span class="pre">val_attr</span></code></a></p></td>
<td><p>The attribute used to store the value on objects</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mpam.types.MonitoredProperty.value_check" title="mpam.types.MonitoredProperty.value_check"><code class="xref py py-obj docutils literal notranslate"><span class="pre">value_check</span></code></a></p></td>
<td><p>A property a property that returns <code class="docutils literal notranslate"><span class="pre">True</span></code> when an object doesn’t have a value (including a default) value associated with this <a class="reference internal" href="#mpam.types.MonitoredProperty" title="mpam.types.MonitoredProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">MonitoredProperty</span></code></a>.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#mpam.types.MonitoredProperty.__init__" title="mpam.types.MonitoredProperty.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>([name, val_attr, …])</p></td>
<td><p>Initialize the object.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mpam.types.MonitoredProperty.transform" title="mpam.types.MonitoredProperty.transform"><code class="xref py py-obj docutils literal notranslate"><span class="pre">transform</span></code></a>()</p></td>
<td><p>A decorator that specifies that the decorated method should be called on the object, passing in the asserted value, e.g. ::.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="mpam.types.MonitoredProperty.__delete__">
<span class="sig-name descname"><span class="pre">__delete__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#mpam.types.MonitoredProperty.__delete__" title="Permalink to this definition"></a></dt>
<dd><p>Remove any value of the property for <code class="docutils literal notranslate"><span class="pre">obj</span></code>.  If it is subsequently
read (using <a class="reference internal" href="#mpam.types.MonitoredProperty.__get__" title="mpam.types.MonitoredProperty.__get__"><code class="xref py py-func docutils literal notranslate"><span class="pre">__get__()</span></code></a>) before it is explicitly set, a new default
value will be computed.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Deleting the property does not delete an associated
<a class="reference internal" href="mpam.types.ChangeCallbackList.html#mpam.types.ChangeCallbackList" title="mpam.types.ChangeCallbackList"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChangeCallbackList</span></code></a>, so any registered callbacks wiil remain
registered.  However, if there is no default value, they will not be
called the next time the value is set, since there will be no “old”
value.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>obj</strong> – the object on which to delete the value</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mpam.types.MonitoredProperty.__get__">
<span class="sig-name descname"><span class="pre">__get__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">objtype</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#mpam.types.MonitoredProperty" title="mpam.types.MonitoredProperty"><span class="pre">mpam.types.MonitoredProperty</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="mpam.types.T.html#mpam.types.T" title="mpam.types.T"><span class="pre">mpam.types.T</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#mpam.types.MonitoredProperty.__get__" title="Permalink to this definition"></a></dt>
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">__get__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">objtype</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="mpam.types.T.html#mpam.types.T" title="mpam.types.T"><span class="pre">mpam.types.T</span></a></span></span></dt>
<dd><p>Get the current value of the property for <code class="docutils literal notranslate"><span class="pre">obj</span></code>, if <code class="docutils literal notranslate"><span class="pre">obj</span></code> is not
<code class="docutils literal notranslate"><span class="pre">None</span></code>, otherwise return the property itself.  (This last is used to
refer to the property as an attribute of the type.)</p>
<p>If the value has not yet been set, this looks for a default value:</p>
<ol class="arabic simple">
<li><p>First, the function (if any) specified as the <code class="docutils literal notranslate"><span class="pre">default_fn</span></code> in
<a class="reference internal" href="#mpam.types.MonitoredProperty.__init__" title="mpam.types.MonitoredProperty.__init__"><code class="xref py py-func docutils literal notranslate"><span class="pre">__init__()</span></code></a> is called, passing in <code class="docutils literal notranslate"><span class="pre">obj</span></code>.  If this returns
a value other than <a class="reference internal" href="mpam.types.MISSING.html#mpam.types.MISSING" title="mpam.types.MISSING"><code class="xref py py-attr docutils literal notranslate"><span class="pre">MISSING</span></code></a>, it is cached and returned.</p></li>
<li><p>Otherwise, the value specified as the <code class="docutils literal notranslate"><span class="pre">default</span></code> in
<a class="reference internal" href="#mpam.types.MonitoredProperty.__init__" title="mpam.types.MonitoredProperty.__init__"><code class="xref py py-func docutils literal notranslate"><span class="pre">__init__()</span></code></a> is checked.  If it is anything but
<a class="reference internal" href="mpam.types.MISSING.html#mpam.types.MISSING" title="mpam.types.MISSING"><code class="xref py py-attr docutils literal notranslate"><span class="pre">MISSING</span></code></a>, it is returned.</p></li>
<li><p>Otherwise, <code class="xref py py-class docutils literal notranslate"><span class="pre">AttributeError</span></code> is raised.</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – the object on which to look for the value</p></li>
<li><p><strong>objtype</strong> – the type of the object (ignored)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the value of the property for <code class="docutils literal notranslate"><span class="pre">obj</span></code></p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>AttributeError</strong> – when the property has not been set for <code class="docutils literal notranslate"><span class="pre">obj</span></code> and
    there is no default value.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mpam.types.MonitoredProperty.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val_attr</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback_list_attr</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="mpam.types.Missing.html#mpam.types.Missing" title="mpam.types.Missing"><span class="pre">mpam.types.Missing</span></a><span class="p"><span class="pre">,</span> </span><a class="reference internal" href="mpam.types.T.html#mpam.types.T" title="mpam.types.T"><span class="pre">mpam.types.T</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">Missing.SINGLETON</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_fn</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="mpam.types.Missing.html#mpam.types.Missing" title="mpam.types.Missing"><span class="pre">mpam.types.Missing</span></a><span class="p"><span class="pre">,</span> </span><a class="reference internal" href="mpam.types.T.html#mpam.types.T" title="mpam.types.T"><span class="pre">mpam.types.T</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">process_duplicates</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#mpam.types.MonitoredProperty.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Initialize the object.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">name</span></code> is not specified, the name of the class attribute will be
used if the <a class="reference internal" href="#mpam.types.MonitoredProperty" title="mpam.types.MonitoredProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">MonitoredProperty</span></code></a> is being used to define one, as in</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Counter</span><span class="p">:</span>
    <span class="n">count</span> <span class="o">=</span> <span class="n">MonitoredProperty</span><span class="p">[</span><span class="nb">int</span><span class="p">](</span><span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">name</span></code> will be taken to be <code class="docutils literal notranslate"><span class="pre">&quot;count&quot;</span></code>.  (If the attribute name
begins with a single underscore, the underscore will be removed.)
Otherwise, a gensymed string (e.g., <code class="docutils literal notranslate"><span class="pre">&quot;monitored_12345&quot;</span></code>) will be used.
If <code class="docutils literal notranslate"><span class="pre">val_attr</span></code> is not specified, it will be <code class="docutils literal notranslate"><span class="pre">&quot;_&lt;name&gt;__value&quot;</span></code>.  If
<code class="docutils literal notranslate"><span class="pre">callback_list_attr</span></code> is not specified, it will be
<code class="docutils literal notranslate"><span class="pre">&quot;_&lt;name&gt;__callbacks&quot;</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – the (optional) name of the property</p>
</dd>
<dt class="field-even">Keyword Arguments</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>val_attr</strong> – the (optional) attribute used to store the value on
objects</p></li>
<li><p><strong>callback_list_attr</strong> – the (optional) attribute used to store the
<a class="reference internal" href="mpam.types.ChangeCallbackList.html#mpam.types.ChangeCallbackList" title="mpam.types.ChangeCallbackList"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChangeCallbackList</span></code></a> on objects</p></li>
<li><p><strong>default</strong> – an optional default value to use for all objects</p></li>
<li><p><strong>default_fn</strong> – an optional function to use to compute the default value
based on the object.  If it returns <a class="reference internal" href="mpam.types.MISSING.html#mpam.types.MISSING" title="mpam.types.MISSING"><code class="xref py py-attr docutils literal notranslate"><span class="pre">MISSING</span></code></a>,
<code class="docutils literal notranslate"><span class="pre">default</span></code> is used.</p></li>
<li><p><strong>process_duplicates</strong> – if <code class="docutils literal notranslate"><span class="pre">True</span></code>, send updates to the
<a class="reference internal" href="mpam.types.ChangeCallbackList.html#mpam.types.ChangeCallbackList" title="mpam.types.ChangeCallbackList"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChangeCallbackList</span></code></a> even if the new and
old values are equal.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mpam.types.MonitoredProperty.__set__">
<span class="sig-name descname"><span class="pre">__set__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="mpam.types.T.html#mpam.types.T" title="mpam.types.T"><span class="pre">mpam.types.T</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#mpam.types.MonitoredProperty.__set__" title="Permalink to this definition"></a></dt>
<dd><p>Set the value of the property for <code class="docutils literal notranslate"><span class="pre">obj</span></code>.</p>
<p>If the property has any transformations registered by <a class="reference internal" href="#mpam.types.MonitoredProperty.transform" title="mpam.types.MonitoredProperty.transform"><code class="xref py py-deco docutils literal notranslate"><span class="pre">&#64;transform</span></code></a>,
the value is first transformed by calling them.  If the result is
<a class="reference internal" href="mpam.types.MISSING.html#mpam.types.MISSING" title="mpam.types.MISSING"><code class="xref py py-attr docutils literal notranslate"><span class="pre">MISSING</span></code></a>, the entire assignment is silently aborted.</p>
<p>Otherwise, if a callback has been registered to the property’s
<code class="xref py py-class docutils literal notranslate"><span class="pre">ChangeChallbackList</span></code> for <code class="docutils literal notranslate"><span class="pre">obj</span></code> the callbacks are processed
unless</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">obj</span></code> does not have a value (including a default value) for the
object, either because it has not yet been set or because it has been
deleted, or</p></li>
<li><p>the old and new values are equal (as defined by <code class="docutils literal notranslate"><span class="pre">==</span></code>) and the
<code class="docutils literal notranslate"><span class="pre">process_duplicates</span></code> parameter to the property’s constructor was
not <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – the object on which to set the value</p></li>
<li><p><strong>value</strong> – the value to set</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mpam.types.MonitoredProperty.callback_list">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">callback_list</span></span><em class="property"><span class="pre">:</span> <span class="pre">mpam.types._CCLProperty[mpam.types.T]</span></em><a class="headerlink" href="#mpam.types.MonitoredProperty.callback_list" title="Permalink to this definition"></a></dt>
<dd><p>A property that returns the <a class="reference internal" href="mpam.types.ChangeCallbackList.html#mpam.types.ChangeCallbackList" title="mpam.types.ChangeCallbackList"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChangeCallbackList</span></code></a> for this
<a class="reference internal" href="#mpam.types.MonitoredProperty" title="mpam.types.MonitoredProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">MonitoredProperty</span></code></a> associated with an object.</p>
<p>When this property is accessed for an object for the first time, a
<a class="reference internal" href="mpam.types.ChangeCallbackList.html#mpam.types.ChangeCallbackList" title="mpam.types.ChangeCallbackList"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChangeCallbackList</span></code></a> is created and cached in the object.</p>
<p>Typically, this will be used to define another property in a class,
e.g.,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Counter</span><span class="p">:</span>
    <span class="n">count</span> <span class="o">=</span> <span class="n">MonitoredProperty</span><span class="p">[</span><span class="nb">int</span><span class="p">](</span><span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">on_count_change</span> <span class="o">=</span> <span class="n">count</span><span class="o">.</span><span class="n">callback_list</span>

    <span class="k">def</span> <span class="nf">inc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">delta</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">count</span> <span class="o">+=</span> <span class="n">delta</span>
</pre></div>
</div>
<p>Then the defined property can be used:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">counter</span><span class="o">.</span><span class="n">on_count_change</span><span class="p">(</span><span class="k">lambda</span> <span class="n">old</span><span class="p">,</span> <span class="n">new</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Changed from </span><span class="si">{</span><span class="n">old</span><span class="si">}</span><span class="s2"> to </span><span class="si">{</span><span class="n">new</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>As this is the <a class="reference internal" href="mpam.types.ChangeCallbackList.html#mpam.types.ChangeCallbackList" title="mpam.types.ChangeCallbackList"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChangeCallbackList</span></code></a> itself, other methods can
also be used, e.g.,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">counter</span><span class="o">.</span><span class="n">on_count_change</span><span class="p">(</span><span class="n">fn</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s2">&quot;my callback&quot;</span><span class="p">)</span>
<span class="n">counter</span><span class="o">.</span><span class="n">on_count_change</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">fn</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s2">&quot;my callback&quot;</span><span class="p">)</span>
<span class="n">counter</span><span class="o">.</span><span class="n">on_count_change</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s2">&quot;my callback&quot;</span><span class="p">)</span>
<span class="n">counter</span><span class="o">.</span><span class="n">on_count_change</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="s2">&quot;my callback&quot;</span><span class="p">)</span>
<span class="n">counter</span><span class="o">.</span><span class="n">on_count_change</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</pre></div>
</div>
<p>The actual object returned by <a class="reference internal" href="#mpam.types.MonitoredProperty.callback_list" title="mpam.types.MonitoredProperty.callback_list"><code class="xref py py-attr docutils literal notranslate"><span class="pre">callback_list</span></code></a> is a property object
that can be extended (in the class, at least) to other similar
properties using functions akin to <a class="reference internal" href="mpam.types.ChangeCallbackList.html#mpam.types.ChangeCallbackList" title="mpam.types.ChangeCallbackList"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChangeCallbackList</span></code></a>’s
<a class="reference internal" href="mpam.types.ChangeCallbackList.html#mpam.types.ChangeCallbackList.mapped" title="mpam.types.ChangeCallbackList.mapped"><code class="xref py py-func docutils literal notranslate"><span class="pre">mapped()</span></code></a> and
<a class="reference internal" href="mpam.types.ChangeCallbackList.html#mpam.types.ChangeCallbackList.filtered" title="mpam.types.ChangeCallbackList.filtered"><code class="xref py py-func docutils literal notranslate"><span class="pre">filtered()</span></code></a>, e.g.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Counter</span><span class="p">:</span>
    <span class="n">count</span> <span class="o">=</span> <span class="n">MonitoredProperty</span><span class="p">[</span><span class="nb">int</span><span class="p">](</span><span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">on_count_change</span> <span class="o">=</span> <span class="n">count</span><span class="o">.</span><span class="n">callback_list</span>
    <span class="n">on_count_increase</span> <span class="o">=</span> <span class="n">on_count_change</span><span class="o">.</span><span class="n">filtered</span><span class="p">(</span><span class="k">lambda</span> <span class="n">old</span><span class="p">,</span> <span class="n">new</span><span class="p">:</span> <span class="n">new</span> <span class="o">&gt;</span> <span class="n">old</span><span class="p">)</span>
</pre></div>
</div>
<p>Here, a counter’s <code class="docutils literal notranslate"><span class="pre">on_count_increase</span></code> is a <a class="reference internal" href="mpam.types.ChangeCallbackList.html#mpam.types.ChangeCallbackList" title="mpam.types.ChangeCallbackList"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChangeCallbackList</span></code></a>
whose callbacks are only invoked when a change is an increase.  As with
<code class="docutils literal notranslate"><span class="pre">on_count_change</span></code>, each object gets its own <a class="reference internal" href="mpam.types.ChangeCallbackList.html#mpam.types.ChangeCallbackList" title="mpam.types.ChangeCallbackList"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChangeCallbackList</span></code></a>,
and only gets one if somebody refers to it by trying to add a callback.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mpam.types.MonitoredProperty.callback_list_attr">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">callback_list_attr</span></span><em class="property"><span class="pre">:</span> <span class="pre">str</span></em><a class="headerlink" href="#mpam.types.MonitoredProperty.callback_list_attr" title="Permalink to this definition"></a></dt>
<dd><p>The attribute used to store the <a class="reference internal" href="mpam.types.ChangeCallbackList.html#mpam.types.ChangeCallbackList" title="mpam.types.ChangeCallbackList"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChangeCallbackList</span></code></a> on objects</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mpam.types.MonitoredProperty.getter">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">getter</span></span><em class="property"><span class="pre">:</span> <span class="pre">mpam.types.Gettable[object,</span> <span class="pre">mpam.types.T]</span></em><a class="headerlink" href="#mpam.types.MonitoredProperty.getter" title="Permalink to this definition"></a></dt>
<dd><p>A read-only property that returns the value associated with this
<a class="reference internal" href="#mpam.types.MonitoredProperty" title="mpam.types.MonitoredProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">MonitoredProperty</span></code></a> for an object or raises <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code> if
there is no such value.  This can be used to provide a read-only public
property alongside a writable protected property, as in</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Counter</span><span class="p">:</span>
    <span class="n">_count</span> <span class="o">=</span> <span class="n">MonitoredProperty</span><span class="p">[</span><span class="nb">int</span><span class="p">](</span><span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">on_count_change</span> <span class="o">=</span> <span class="n">_count</span><span class="o">.</span><span class="n">callback_list</span>
    <span class="n">count</span> <span class="o">=</span> <span class="n">_count</span><span class="o">.</span><span class="n">getter</span>
</pre></div>
</div>
<p>With this in place, users of <code class="docutils literal notranslate"><span class="pre">Counter</span></code> can read <code class="docutils literal notranslate"><span class="pre">count</span></code> and register
callbacks to <code class="docutils literal notranslate"><span class="pre">on_count_change</span></code>, but modifications can only happen by
means of <code class="docutils literal notranslate"><span class="pre">_count</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mpam.types.MonitoredProperty.name">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="pre">:</span> <span class="pre">str</span></em><a class="headerlink" href="#mpam.types.MonitoredProperty.name" title="Permalink to this definition"></a></dt>
<dd><p>The name of the property</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mpam.types.MonitoredProperty.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chain</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'False'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span> </span><a class="reference internal" href="mpam.types.T.html#mpam.types.T" title="mpam.types.T"><span class="pre">mpam.types.T</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="mpam.types.Missing.html#mpam.types.Missing" title="mpam.types.Missing"><span class="pre">mpam.types.Missing</span></a><span class="p"><span class="pre">,</span> </span><a class="reference internal" href="mpam.types.T.html#mpam.types.T" title="mpam.types.T"><span class="pre">mpam.types.T</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span> </span><a class="reference internal" href="mpam.types.T.html#mpam.types.T" title="mpam.types.T"><span class="pre">mpam.types.T</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="mpam.types.Missing.html#mpam.types.Missing" title="mpam.types.Missing"><span class="pre">mpam.types.Missing</span></a><span class="p"><span class="pre">,</span> </span><a class="reference internal" href="mpam.types.T.html#mpam.types.T" title="mpam.types.T"><span class="pre">mpam.types.T</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#mpam.types.MonitoredProperty.transform" title="Permalink to this definition"></a></dt>
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span> </span><a class="reference internal" href="mpam.types.T.html#mpam.types.T" title="mpam.types.T"><span class="pre">mpam.types.T</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="mpam.types.Missing.html#mpam.types.Missing" title="mpam.types.Missing"><span class="pre">mpam.types.Missing</span></a><span class="p"><span class="pre">,</span> </span><a class="reference internal" href="mpam.types.T.html#mpam.types.T" title="mpam.types.T"><span class="pre">mpam.types.T</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chain</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'False'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span> </span><a class="reference internal" href="mpam.types.T.html#mpam.types.T" title="mpam.types.T"><span class="pre">mpam.types.T</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="mpam.types.Missing.html#mpam.types.Missing" title="mpam.types.Missing"><span class="pre">mpam.types.Missing</span></a><span class="p"><span class="pre">,</span> </span><a class="reference internal" href="mpam.types.T.html#mpam.types.T" title="mpam.types.T"><span class="pre">mpam.types.T</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span></dt>
<dd><p>A decorator that specifies that the decorated method should be called on
the object, passing in the asserted value, e.g.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Counter</span><span class="p">:</span>
    <span class="n">max_count</span> <span class="o">=</span> <span class="mi">100</span>
    <span class="n">count</span> <span class="o">=</span> <span class="n">ManagedProperty</span><span class="p">[</span><span class="n">T</span><span class="p">](</span><span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

    <span class="nd">@count</span><span class="o">.</span><span class="n">transform</span>
    <span class="k">def</span> <span class="nf">clip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">min</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_count</span><span class="p">)</span>
</pre></div>
</div>
<p>This will ensure that values greater than <code class="docutils literal notranslate"><span class="pre">max_count</span></code> will be clipped
at that level, e.g.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">counter</span><span class="o">.</span><span class="n">count</span> <span class="o">=</span> <span class="mi">250</span>
<span class="nb">print</span><span class="p">(</span><span class="n">counter</span><span class="o">.</span><span class="n">count</span><span class="p">)</span>
</pre></div>
</div>
<p>will print <code class="docutils literal notranslate"><span class="pre">100</span></code>.</p>
<p>If the function returns <a class="reference internal" href="mpam.types.MISSING.html#mpam.types.MISSING" title="mpam.types.MISSING"><code class="xref py py-attr docutils literal notranslate"><span class="pre">MISSING</span></code></a>, the assignment is silently
aborted.  For example,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@count</span><span class="o">.</span><span class="n">transform</span>
<span class="k">def</span> <span class="nf">only_positive</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MissingOr</span><span class="p">[</span><span class="ow">in</span><span class="p">]:</span>
    <span class="k">return</span> <span class="n">val</span> <span class="k">if</span> <span class="n">val</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">MISSING</span>
</pre></div>
</div>
<p>Now</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">counter</span><span class="o">.</span><span class="n">count</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">counter</span><span class="o">.</span><span class="n">count</span> <span class="o">=</span> <span class="o">-</span><span class="mi">5</span>
<span class="nb">print</span><span class="p">(</span><span class="n">counter</span><span class="o">.</span><span class="n">count</span><span class="p">)</span>
</pre></div>
</div>
<p>will print <code class="docutils literal notranslate"><span class="pre">2</span></code>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">chain</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, the function will be applied to the current
transformation, unless it returns <a class="reference internal" href="mpam.types.MISSING.html#mpam.types.MISSING" title="mpam.types.MISSING"><code class="xref py py-attr docutils literal notranslate"><span class="pre">MISSING</span></code></a>.  This is typically
written calling <a class="reference internal" href="#mpam.types.MonitoredProperty.transform" title="mpam.types.MonitoredProperty.transform"><code class="xref py py-func docutils literal notranslate"><span class="pre">transform()</span></code></a> with <strong>only</strong> a <code class="docutils literal notranslate"><span class="pre">chain</span></code> parameter,
which will return a decorator that finishes the job</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@count</span><span class="o">.</span><span class="n">transform</span>
<span class="k">def</span> <span class="nf">only_positive</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MissingOr</span><span class="p">[</span><span class="ow">in</span><span class="p">]:</span>
    <span class="k">return</span> <span class="n">val</span> <span class="k">if</span> <span class="n">val</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">MISSING</span>

<span class="nd">@count</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">chain</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">clip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="k">return</span> <span class="nb">min</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_count</span><span class="p">)</span>
</pre></div>
</div>
<p>Now, <code class="docutils literal notranslate"><span class="pre">only_positive</span></code> will be applied first.  If it passes the value,
<code class="docutils literal notranslate"><span class="pre">clip</span></code> will be called to clip it to the maximum.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fn</strong> – the function used to check and/or transform a value on
assignment.  If this is <code class="docutils literal notranslate"><span class="pre">None</span></code>, the value will be a decorator
that further applies to a function.  This is primarily seen when
<code class="docutils literal notranslate"><span class="pre">chain</span></code> is present.</p>
</dd>
<dt class="field-even">Keyword Arguments</dt>
<dd class="field-even"><p><strong>chain</strong> – if <code class="docutils literal notranslate"><span class="pre">True</span></code>, the transformation will be applied to the result
of the current transformation.  If <code class="docutils literal notranslate"><span class="pre">False</span></code>, it will replace
the current transformation.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mpam.types.MonitoredProperty.val_attr">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">val_attr</span></span><em class="property"><span class="pre">:</span> <span class="pre">str</span></em><a class="headerlink" href="#mpam.types.MonitoredProperty.val_attr" title="Permalink to this definition"></a></dt>
<dd><p>The attribute used to store the value on objects</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mpam.types.MonitoredProperty.value_check">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">value_check</span></span><em class="property"><span class="pre">:</span> <span class="pre">mpam.types.Gettable[object,</span> <span class="pre">bool]</span></em><a class="headerlink" href="#mpam.types.MonitoredProperty.value_check" title="Permalink to this definition"></a></dt>
<dd><p>A property a property that returns <code class="docutils literal notranslate"><span class="pre">True</span></code> when an object doesn’t have
a value (including a default) value associated with this
<a class="reference internal" href="#mpam.types.MonitoredProperty" title="mpam.types.MonitoredProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">MonitoredProperty</span></code></a>.</p>
<p>If there is no default value, the value starts out <code class="docutils literal notranslate"><span class="pre">False</span></code>, becomes
<code class="docutils literal notranslate"><span class="pre">True</span></code> the first time the <a class="reference internal" href="#mpam.types.MonitoredProperty" title="mpam.types.MonitoredProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">MonitoredProperty</span></code></a> is set on an
object, and becomes <code class="docutils literal notranslate"><span class="pre">False</span></code> again when the <a class="reference internal" href="#mpam.types.MonitoredProperty" title="mpam.types.MonitoredProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">MonitoredProperty</span></code></a>
is deleted on the object.  If there is a default value, it is always
<code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="mpam.types.Mixture.html" class="btn btn-neutral float-left" title="mpam.types.Mixture" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="mpam.types.OnOff.html" class="btn btn-neutral float-right" title="mpam.types.OnOff" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Evan Kirshenbaum.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>