<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>mpam.device.SystemComponent &mdash; MPAM  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="mpam.device.UserOperation" href="mpam.device.UserOperation.html" />
    <link rel="prev" title="mpam.device.System" href="mpam.device.System.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> MPAM
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="mpam.device.html">mpam.device</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="mpam.device.T.html">mpam.device.T</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.device.BC.html">mpam.device.BC</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.device.transitions_from.html">mpam.device.transitions_from</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.device.Batch.html">mpam.device.Batch</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.device.BinaryComponent.html">mpam.device.BinaryComponent</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.device.Board.html">mpam.device.Board</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.device.BoardComponent.html">mpam.device.BoardComponent</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.device.ChangeJournal.html">mpam.device.ChangeJournal</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.device.Clock.html">mpam.device.Clock</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.device.DispenseGroup.html">mpam.device.DispenseGroup</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.device.DropLoc.html">mpam.device.DropLoc</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.device.ExtractionPoint.html">mpam.device.ExtractionPoint</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.device.Fan.html">mpam.device.Fan</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.device.FixedPowerSupply.html">mpam.device.FixedPowerSupply</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.device.GateStatus.html">mpam.device.GateStatus</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.device.Heater.html">mpam.device.Heater</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.device.HeatingMode.html">mpam.device.HeatingMode</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.device.LocatedPad.html">mpam.device.LocatedPad</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.device.Magnet.html">mpam.device.Magnet</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.device.Pad.html">mpam.device.Pad</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.device.PipettingTarget.html">mpam.device.PipettingTarget</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.device.PowerMode.html">mpam.device.PowerMode</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.device.PowerSupply.html">mpam.device.PowerSupply</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.device.ProductLocation.html">mpam.device.ProductLocation</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.device.System.html">mpam.device.System</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">mpam.device.SystemComponent</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.device.UserOperation.html">mpam.device.UserOperation</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.device.Well.html">mpam.device.Well</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.device.WellGate.html">mpam.device.WellGate</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.device.WellMotion.html">mpam.device.WellMotion</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.device.WellPad.html">mpam.device.WellPad</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.device.WellShape.html">mpam.device.WellShape</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpam.device.WellState.html">mpam.device.WellState</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mpam.drop.html">mpam.drop</a></li>
<li class="toctree-l1"><a class="reference internal" href="mpam.engine.html">mpam.engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="mpam.exceptions.html">mpam.exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="mpam.monitor.html">mpam.monitor</a></li>
<li class="toctree-l1"><a class="reference internal" href="mpam.paths.html">mpam.paths</a></li>
<li class="toctree-l1"><a class="reference internal" href="mpam.pipettor.html">mpam.pipettor</a></li>
<li class="toctree-l1"><a class="reference internal" href="mpam.processes.html">mpam.processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="mpam.types.html">mpam.types</a></li>
<li class="toctree-l1"><a class="reference internal" href="erk.errors.html">erk.errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="quantities.core.html">quantities.core</a></li>
<li class="toctree-l1"><a class="reference internal" href="quantities.dimensions.html">quantities.dimensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="quantities.timestamp.html">quantities.timestamp</a></li>
<li class="toctree-l1"><a class="reference internal" href="quantities.temperature.html">quantities.temperature</a></li>
<li class="toctree-l1"><a class="reference internal" href="quantities.SI.html">quantities.SI</a></li>
<li class="toctree-l1"><a class="reference internal" href="quantities.US.html">quantities.US</a></li>
<li class="toctree-l1"><a class="reference internal" href="threading.html">threading</a></li>
<li class="toctree-l1"><a class="reference internal" href="typing.html">typing</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MPAM</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="mpam.device.html">mpam.device</a> &raquo;</li>
      <li>mpam.device.SystemComponent</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/stubs/mpam.device.SystemComponent.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="mpam-device-systemcomponent">
<h1>mpam.device.SystemComponent<a class="headerlink" href="#mpam-device-systemcomponent" title="Permalink to this headline"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="mpam.device.SystemComponent">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">mpam.device.</span></span><span class="sig-name descname"><span class="pre">SystemComponent</span></span><a class="headerlink" href="#mpam.device.SystemComponent" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>A component of a <a class="reference internal" href="mpam.device.System.html#mpam.device.System" title="mpam.device.System"><code class="xref py py-class docutils literal notranslate"><span class="pre">System</span></code></a>.  Primary examples are <a class="reference internal" href="mpam.device.Board.html#mpam.device.Board" title="mpam.device.Board"><code class="xref py py-class docutils literal notranslate"><span class="pre">Board</span></code></a> and
<a class="reference internal" href="mpam.pipettor.Pipettor.html#mpam.pipettor.Pipettor" title="mpam.pipettor.Pipettor"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pipettor</span></code></a>.</p>
<p>When a <a class="reference internal" href="#mpam.device.SystemComponent" title="mpam.device.SystemComponent"><code class="xref py py-class docutils literal notranslate"><span class="pre">SystemComponent</span></code></a> is created, it is not associated with a
<a class="reference internal" href="mpam.device.System.html#mpam.device.System" title="mpam.device.System"><code class="xref py py-class docutils literal notranslate"><span class="pre">System</span></code></a>, and an attempt to read <a class="reference internal" href="#mpam.device.SystemComponent.system" title="mpam.device.SystemComponent.system"><code class="xref py py-attr docutils literal notranslate"><span class="pre">system</span></code></a> will fail.
<a class="reference internal" href="#mpam.device.SystemComponent.joined_system" title="mpam.device.SystemComponent.joined_system"><code class="xref py py-attr docutils literal notranslate"><span class="pre">joined_system</span></code></a> can be used to determine this state.  <a class="reference internal" href="#mpam.device.SystemComponent.system" title="mpam.device.SystemComponent.system"><code class="xref py py-attr docutils literal notranslate"><span class="pre">system</span></code></a>
is set when <a class="reference internal" href="#mpam.device.SystemComponent.join_system" title="mpam.device.SystemComponent.join_system"><code class="xref py py-func docutils literal notranslate"><span class="pre">join_system()</span></code></a> is called.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#mpam.device.SystemComponent.join_system" title="mpam.device.SystemComponent.join_system"><code class="xref py py-func docutils literal notranslate"><span class="pre">join_system()</span></code></a> will be called for a <a class="reference internal" href="mpam.device.Board.html#mpam.device.Board" title="mpam.device.Board"><code class="xref py py-class docutils literal notranslate"><span class="pre">Board</span></code></a> during the
initialization of the <a class="reference internal" href="mpam.device.System.html#mpam.device.System" title="mpam.device.System"><code class="xref py py-class docutils literal notranslate"><span class="pre">System</span></code></a>.  For other
<a class="reference internal" href="#mpam.device.SystemComponent" title="mpam.device.SystemComponent"><code class="xref py py-class docutils literal notranslate"><span class="pre">SystemComponent</span></code></a>s, it must be called explicitly.  If a class
overrides <a class="reference internal" href="#mpam.device.SystemComponent.join_system" title="mpam.device.SystemComponent.join_system"><code class="xref py py-func docutils literal notranslate"><span class="pre">join_system()</span></code></a>, it should delegate to the base
implementation.</p>
</div>
<p>The primary job of a <a class="reference internal" href="#mpam.device.SystemComponent" title="mpam.device.SystemComponent"><code class="xref py py-class docutils literal notranslate"><span class="pre">SystemComponent</span></code></a> qua <a class="reference internal" href="#mpam.device.SystemComponent" title="mpam.device.SystemComponent"><code class="xref py py-class docutils literal notranslate"><span class="pre">SystemComponent</span></code></a>
is to delegate requests to its <a class="reference internal" href="#mpam.device.SystemComponent.system" title="mpam.device.SystemComponent.system"><code class="xref py py-attr docutils literal notranslate"><span class="pre">system</span></code></a>, which itself will delegate
them to its associated <a class="reference internal" href="mpam.engine.Engine.html#mpam.engine.Engine" title="mpam.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a>.</p>
<p><code class="xref py py-attr docutils literal notranslate"><span class="pre">TimerFunc</span></code>s (no-argument functions that optionally return a
<a class="reference internal" href="quantities.dimensions.Time.html#quantities.dimensions.Time" title="quantities.dimensions.Time"><code class="xref py py-class docutils literal notranslate"><span class="pre">Time</span></code></a> or <a class="reference internal" href="quantities.timestamp.html#quantities.timestamp.Timestamp" title="quantities.timestamp.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a>) are scheduled using <a class="reference internal" href="#mpam.device.SystemComponent.call_at" title="mpam.device.SystemComponent.call_at"><code class="xref py py-func docutils literal notranslate"><span class="pre">call_at()</span></code></a>
or <a class="reference internal" href="#mpam.device.SystemComponent.call_after" title="mpam.device.SystemComponent.call_after"><code class="xref py py-func docutils literal notranslate"><span class="pre">call_after()</span></code></a>.  If they return a value (other than <code class="docutils literal notranslate"><span class="pre">None</span></code>), they
are scheduled to be called again based on the value.</p>
<p><code class="xref py py-attr docutils literal notranslate"><span class="pre">ClockCallback</span></code>s (no-argument functions that optionally return a
<a class="reference internal" href="mpam.types.Ticks.html#mpam.types.Ticks" title="mpam.types.Ticks"><code class="xref py py-class docutils literal notranslate"><span class="pre">Ticks</span></code></a>) are scheduled using <code class="xref py py-func docutils literal notranslate"><span class="pre">before_tick()</span></code> or
<code class="xref py py-func docutils literal notranslate"><span class="pre">after_tick()</span></code>.  These schedule the function to be executed immediately
before or immediately after the communication functions on a tick.  They
take an optional <code class="docutils literal notranslate"><span class="pre">after</span></code> argument, which is either <a class="reference internal" href="mpam.types.Ticks.html#mpam.types.Ticks" title="mpam.types.Ticks"><code class="xref py py-class docutils literal notranslate"><span class="pre">Ticks</span></code></a> or
<a class="reference internal" href="quantities.dimensions.Time.html#quantities.dimensions.Time" title="quantities.dimensions.Time"><code class="xref py py-class docutils literal notranslate"><span class="pre">Time</span></code></a> to specify a delay.  If it is not specified, the function is
called on the next tick.  If the <code class="xref py py-attr docutils literal notranslate"><span class="pre">ClockCallback</span></code> returns a
<a class="reference internal" href="mpam.types.Ticks.html#mpam.types.Ticks" title="mpam.types.Ticks"><code class="xref py py-class docutils literal notranslate"><span class="pre">Ticks</span></code></a> value, it is scheduled to re-run before or after
(respectively) that many <a class="reference internal" href="mpam.types.Ticks.html#mpam.types.Ticks" title="mpam.types.Ticks"><code class="xref py py-class docutils literal notranslate"><span class="pre">Ticks</span></code></a>.</p>
<p>To schedule running again on the next tick, return <code class="docutils literal notranslate"><span class="pre">1*tick</span></code>.  A common
idiom is to use an <code class="xref py py-class docutils literal notranslate"><span class="pre">Iterable</span></code> that yields <code class="docutils literal notranslate"><span class="pre">None</span></code> when done and
<code class="docutils literal notranslate"><span class="pre">1*tick</span></code> otherwise, e.g.,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">do_it</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">Ticks</span><span class="p">]]:</span>
    <span class="k">while</span> <span class="ow">not</span> <span class="n">pad</span><span class="o">.</span><span class="n">reserve</span><span class="p">():</span>
        <span class="k">yield</span> <span class="mi">1</span><span class="o">*</span><span class="n">tick</span>
    <span class="c1"># do the actual work</span>
    <span class="n">pad</span><span class="o">.</span><span class="n">unreserve</span><span class="p">()</span>
    <span class="k">yield</span> <span class="kc">None</span>

<span class="n">iterator</span> <span class="o">=</span> <span class="n">do_it</span><span class="p">()</span>
<span class="n">board</span><span class="o">.</span><span class="n">before_tick</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="nb">next</span><span class="p">(</span><span class="n">iterator</span><span class="p">))</span>
</pre></div>
</div>
<p>Every time the iterator fails to reserve the pad, it yields one tick (which
is returned from the lambda) and will get another chance before the next
tick, after whoever held the reservation may have released it.  This will
repeat until the reservation succeeds, at which point the real work can be
done.  When it is done, it unreserves the pad and yields <code class="docutils literal notranslate"><span class="pre">None</span></code>,
signalling that it is done.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#mpam.device.SystemComponent" title="mpam.device.SystemComponent"><code class="xref py py-class docutils literal notranslate"><span class="pre">SystemComponent</span></code></a> is an abstract base class.  Concrete instances
must implement <code class="xref py py-func docutils literal notranslate"><span class="pre">update_state()</span></code>, although this implementation must
either delegate back to <code class="xref py py-func docutils literal notranslate"><span class="pre">SystemComponent.update_state()</span></code> or call
<code class="xref py py-func docutils literal notranslate"><span class="pre">finish_update()</span></code>.</p>
</div>
<p class="rubric">Attributes</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#mpam.device.SystemComponent.joined_system" title="mpam.device.SystemComponent.joined_system"><code class="xref py py-obj docutils literal notranslate"><span class="pre">joined_system</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if <a class="reference internal" href="#mpam.device.SystemComponent.join_system" title="mpam.device.SystemComponent.join_system"><code class="xref py py-func docutils literal notranslate"><span class="pre">join_system()</span></code></a> has been called and <a class="reference internal" href="#mpam.device.SystemComponent.system" title="mpam.device.SystemComponent.system"><code class="xref py py-attr docutils literal notranslate"><span class="pre">system</span></code></a> is valid.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">no_delay</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mpam.device.SystemComponent.system" title="mpam.device.SystemComponent.system"><code class="xref py py-obj docutils literal notranslate"><span class="pre">system</span></code></a></p></td>
<td><p>The <a class="reference internal" href="mpam.device.System.html#mpam.device.System" title="mpam.device.System"><code class="xref py py-class docutils literal notranslate"><span class="pre">System</span></code></a> that the <a class="reference internal" href="#mpam.device.SystemComponent" title="mpam.device.SystemComponent"><code class="xref py py-class docutils literal notranslate"><span class="pre">SystemComponent</span></code></a> has joined.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#mpam.device.SystemComponent.__init__" title="mpam.device.SystemComponent.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>()</p></td>
<td><p>Initialize the object</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">after_tick</span></code>(fn, *[, delta])</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">before_tick</span></code>(fn, *[, delta])</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mpam.device.SystemComponent.call_after" title="mpam.device.SystemComponent.call_after"><code class="xref py py-obj docutils literal notranslate"><span class="pre">call_after</span></code></a>(delta, fn, *[, daemon])</p></td>
<td><p>Call <code class="xref py py-class docutils literal notranslate"><span class="pre">TimerFunc</span></code> <code class="docutils literal notranslate"><span class="pre">fn</span></code> after a delay of <code class="docutils literal notranslate"><span class="pre">delta</span></code>. This will be delegated to <a class="reference internal" href="#mpam.device.SystemComponent.system" title="mpam.device.SystemComponent.system"><code class="xref py py-attr docutils literal notranslate"><span class="pre">system</span></code></a>, possibly batched, and finally passed to <a class="reference internal" href="#mpam.device.SystemComponent.system" title="mpam.device.SystemComponent.system"><code class="xref py py-attr docutils literal notranslate"><span class="pre">system</span></code></a>’s <a class="reference internal" href="mpam.engine.Engine.html#mpam.engine.Engine" title="mpam.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a>. At this point it will be treated as if it had been ::.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mpam.device.SystemComponent.call_at" title="mpam.device.SystemComponent.call_at"><code class="xref py py-obj docutils literal notranslate"><span class="pre">call_at</span></code></a>(t, fn, *[, daemon])</p></td>
<td><p>Call <code class="xref py py-class docutils literal notranslate"><span class="pre">TimerFunc</span></code> <code class="docutils literal notranslate"><span class="pre">fn</span></code> at <a class="reference internal" href="quantities.timestamp.html#quantities.timestamp.Timestamp" title="quantities.timestamp.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a> <code class="docutils literal notranslate"><span class="pre">t</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">communicate</span></code>(cb[, delta])</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">delayed</span></code>(function, *, after)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">finish_update</span></code>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mpam.device.SystemComponent.join_system" title="mpam.device.SystemComponent.join_system"><code class="xref py py-obj docutils literal notranslate"><span class="pre">join_system</span></code></a>(system)</p></td>
<td><p>Join <code class="docutils literal notranslate"><span class="pre">system</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">make_request</span></code>(cb)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">on_condition</span></code>(pred, val_fn)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">on_tick</span></code>(cb, *[, delta])</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">schedule</span></code>(cb, *[, after])</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">system_shutdown</span></code>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_state</span></code>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">user_operation</span></code>()</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="mpam.device.SystemComponent.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#mpam.device.SystemComponent.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Initialize the object</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mpam.device.SystemComponent.call_after">
<span class="sig-name descname"><span class="pre">call_after</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delta</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="quantities.dimensions.Time.html#quantities.dimensions.Time" title="quantities.dimensions.Time"><span class="pre">quantities.dimensions.Time</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">fn</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="quantities.dimensions.Time.html#quantities.dimensions.Time" title="quantities.dimensions.Time"><span class="pre">quantities.dimensions.Time</span></a><span class="p"><span class="pre">,</span> </span><a class="reference internal" href="quantities.timestamp.html#quantities.timestamp.Timestamp" title="quantities.timestamp.Timestamp"><span class="pre">quantities.timestamp.Timestamp</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">daemon</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#mpam.device.SystemComponent.call_after" title="Permalink to this definition"></a></dt>
<dd><p>Call <code class="xref py py-class docutils literal notranslate"><span class="pre">TimerFunc</span></code> <code class="docutils literal notranslate"><span class="pre">fn</span></code> after a delay of <code class="docutils literal notranslate"><span class="pre">delta</span></code>.  This will
be delegated to <a class="reference internal" href="#mpam.device.SystemComponent.system" title="mpam.device.SystemComponent.system"><code class="xref py py-attr docutils literal notranslate"><span class="pre">system</span></code></a>, possibly batched, and finally passed to
<a class="reference internal" href="#mpam.device.SystemComponent.system" title="mpam.device.SystemComponent.system"><code class="xref py py-attr docutils literal notranslate"><span class="pre">system</span></code></a>’s <a class="reference internal" href="mpam.engine.Engine.html#mpam.engine.Engine" title="mpam.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a>.  At this point it will be
treated as if it had been</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sys_cpt</span><span class="o">.</span><span class="n">call_at</span><span class="p">(</span><span class="n">time_now</span><span class="p">()</span><span class="o">+</span><span class="n">delta</span><span class="p">,</span> <span class="n">fn</span><span class="p">,</span> <span class="n">daemon</span><span class="o">=</span><span class="n">daemon</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="quantities.timestamp.html#quantities.timestamp.time_now" title="quantities.timestamp.time_now"><code class="xref py py-func docutils literal notranslate"><span class="pre">time_now()</span></code></a> is not computed until all batching is finished.</p>
</div>
<p>If <code class="docutils literal notranslate"><span class="pre">fn</span></code> returns a <code class="xref py py-class docutils literal notranslate"><span class="pre">Time</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code> value, it will
be rescheduled to run at the new time.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">daemon</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, the <a class="reference internal" href="mpam.device.System.html#mpam.device.System" title="mpam.device.System"><code class="xref py py-class docutils literal notranslate"><span class="pre">System</span></code></a> can be shut down even
while <code class="docutils literal notranslate"><span class="pre">fn</span></code> is still scheduled to run (either the first time or
subsequent times).  If it is <code class="docutils literal notranslate"><span class="pre">False</span></code> (the default), the
<a class="reference internal" href="mpam.device.System.html#mpam.device.System" title="mpam.device.System"><code class="xref py py-class docutils literal notranslate"><span class="pre">System</span></code></a> is not considered to be idle while it is scheduled.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>delta</strong> – the <a class="reference internal" href="quantities.dimensions.Time.html#quantities.dimensions.Time" title="quantities.dimensions.Time"><code class="xref py py-class docutils literal notranslate"><span class="pre">Time</span></code></a> to delay before running</p></li>
<li><p><strong>fn</strong> – the <code class="xref py py-class docutils literal notranslate"><span class="pre">TimerFunc</span></code> to run</p></li>
</ul>
</dd>
<dt class="field-even">Keyword Arguments</dt>
<dd class="field-even"><p><strong>daemon</strong> – <code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">fn</span></code> should be considered to be a daemon</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mpam.device.SystemComponent.call_at">
<span class="sig-name descname"><span class="pre">call_at</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="quantities.timestamp.html#quantities.timestamp.Timestamp" title="quantities.timestamp.Timestamp"><span class="pre">quantities.timestamp.Timestamp</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">fn</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="quantities.dimensions.Time.html#quantities.dimensions.Time" title="quantities.dimensions.Time"><span class="pre">quantities.dimensions.Time</span></a><span class="p"><span class="pre">,</span> </span><a class="reference internal" href="quantities.timestamp.html#quantities.timestamp.Timestamp" title="quantities.timestamp.Timestamp"><span class="pre">quantities.timestamp.Timestamp</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">daemon</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#mpam.device.SystemComponent.call_at" title="Permalink to this definition"></a></dt>
<dd><p>Call <code class="xref py py-class docutils literal notranslate"><span class="pre">TimerFunc</span></code> <code class="docutils literal notranslate"><span class="pre">fn</span></code> at <a class="reference internal" href="quantities.timestamp.html#quantities.timestamp.Timestamp" title="quantities.timestamp.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a> <code class="docutils literal notranslate"><span class="pre">t</span></code>.  This will
be delegated to <a class="reference internal" href="#mpam.device.SystemComponent.system" title="mpam.device.SystemComponent.system"><code class="xref py py-attr docutils literal notranslate"><span class="pre">system</span></code></a>, possibly batched, and finally passed to
<a class="reference internal" href="#mpam.device.SystemComponent.system" title="mpam.device.SystemComponent.system"><code class="xref py py-attr docutils literal notranslate"><span class="pre">system</span></code></a>’s <a class="reference internal" href="mpam.engine.Engine.html#mpam.engine.Engine" title="mpam.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a>.  At this point, if the time is at or
after <code class="docutils literal notranslate"><span class="pre">t</span></code>, it will be run, otherwise it will be scheduled to run.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">fn</span></code> returns a <code class="xref py py-class docutils literal notranslate"><span class="pre">Time</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code> value, it will
be rescheduled to run at the new time.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">daemon</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, the <a class="reference internal" href="mpam.device.System.html#mpam.device.System" title="mpam.device.System"><code class="xref py py-class docutils literal notranslate"><span class="pre">System</span></code></a> can be shut down even
while <code class="docutils literal notranslate"><span class="pre">fn</span></code> is still scheduled to run (either the first time or
subsequent times).  If it is <code class="docutils literal notranslate"><span class="pre">False</span></code> (the default), the
<a class="reference internal" href="mpam.device.System.html#mpam.device.System" title="mpam.device.System"><code class="xref py py-class docutils literal notranslate"><span class="pre">System</span></code></a> is not considered to be idle while it is scheduled.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – the <a class="reference internal" href="quantities.timestamp.html#quantities.timestamp.Timestamp" title="quantities.timestamp.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a> to run at</p></li>
<li><p><strong>fn</strong> – the <code class="xref py py-class docutils literal notranslate"><span class="pre">TimerFunc</span></code> to run</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Keyword Args</dt><dd><p>daemon: <code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">fn</span></code> should be considered to be a daemon</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mpam.device.SystemComponent.join_system">
<span class="sig-name descname"><span class="pre">join_system</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">system</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="mpam.device.System.html#mpam.device.System" title="mpam.device.System"><span class="pre">mpam.device.System</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#mpam.device.SystemComponent.join_system" title="Permalink to this definition"></a></dt>
<dd><p>Join <code class="docutils literal notranslate"><span class="pre">system</span></code>.  After this call, <a class="reference internal" href="#mpam.device.SystemComponent.system" title="mpam.device.SystemComponent.system"><code class="xref py py-attr docutils literal notranslate"><span class="pre">system</span></code></a> will be valid and
<a class="reference internal" href="#mpam.device.SystemComponent.joined_system" title="mpam.device.SystemComponent.joined_system"><code class="xref py py-attr docutils literal notranslate"><span class="pre">joined_system</span></code></a> will return <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>This calls <code class="xref py py-func docutils literal notranslate"><span class="pre">component_joined()</span></code> on <code class="docutils literal notranslate"><span class="pre">system</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#mpam.device.SystemComponent.join_system" title="mpam.device.SystemComponent.join_system"><code class="xref py py-func docutils literal notranslate"><span class="pre">join_system()</span></code></a> will be called for a <a class="reference internal" href="mpam.device.Board.html#mpam.device.Board" title="mpam.device.Board"><code class="xref py py-class docutils literal notranslate"><span class="pre">Board</span></code></a> during the
initialization of the <a class="reference internal" href="mpam.device.System.html#mpam.device.System" title="mpam.device.System"><code class="xref py py-class docutils literal notranslate"><span class="pre">System</span></code></a>.  For other
<a class="reference internal" href="#mpam.device.SystemComponent" title="mpam.device.SystemComponent"><code class="xref py py-class docutils literal notranslate"><span class="pre">SystemComponent</span></code></a>s, it must be called explicitly.  If a class
overrides <a class="reference internal" href="#mpam.device.SystemComponent.join_system" title="mpam.device.SystemComponent.join_system"><code class="xref py py-func docutils literal notranslate"><span class="pre">join_system()</span></code></a>, it should delegate to the base
implementation.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>system</strong> – the <a class="reference internal" href="mpam.device.System.html#mpam.device.System" title="mpam.device.System"><code class="xref py py-class docutils literal notranslate"><span class="pre">System</span></code></a> to join</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mpam.device.SystemComponent.joined_system">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">joined_system</span></span><em class="property"><span class="pre">:</span> <span class="pre">bool</span></em><a class="headerlink" href="#mpam.device.SystemComponent.joined_system" title="Permalink to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if <a class="reference internal" href="#mpam.device.SystemComponent.join_system" title="mpam.device.SystemComponent.join_system"><code class="xref py py-func docutils literal notranslate"><span class="pre">join_system()</span></code></a> has been called and <a class="reference internal" href="#mpam.device.SystemComponent.system" title="mpam.device.SystemComponent.system"><code class="xref py py-attr docutils literal notranslate"><span class="pre">system</span></code></a> is
valid.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mpam.device.SystemComponent.system">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">system</span></span><em class="property"><span class="pre">:</span> <span class="pre">mpam.device.System</span></em><a class="headerlink" href="#mpam.device.SystemComponent.system" title="Permalink to this definition"></a></dt>
<dd><p>The <a class="reference internal" href="mpam.device.System.html#mpam.device.System" title="mpam.device.System"><code class="xref py py-class docutils literal notranslate"><span class="pre">System</span></code></a> that the <a class="reference internal" href="#mpam.device.SystemComponent" title="mpam.device.SystemComponent"><code class="xref py py-class docutils literal notranslate"><span class="pre">SystemComponent</span></code></a> has joined.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When a <a class="reference internal" href="#mpam.device.SystemComponent" title="mpam.device.SystemComponent"><code class="xref py py-class docutils literal notranslate"><span class="pre">SystemComponent</span></code></a> is created, it is not associated
with a <a class="reference internal" href="mpam.device.System.html#mpam.device.System" title="mpam.device.System"><code class="xref py py-class docutils literal notranslate"><span class="pre">System</span></code></a>, and an attempt to read <a class="reference internal" href="#mpam.device.SystemComponent.system" title="mpam.device.SystemComponent.system"><code class="xref py py-attr docutils literal notranslate"><span class="pre">system</span></code></a> will
fail. <a class="reference internal" href="#mpam.device.SystemComponent.joined_system" title="mpam.device.SystemComponent.joined_system"><code class="xref py py-attr docutils literal notranslate"><span class="pre">joined_system</span></code></a> can be used to determine this state.
<a class="reference internal" href="#mpam.device.SystemComponent.system" title="mpam.device.SystemComponent.system"><code class="xref py py-attr docutils literal notranslate"><span class="pre">system</span></code></a> is set when <a class="reference internal" href="#mpam.device.SystemComponent.join_system" title="mpam.device.SystemComponent.join_system"><code class="xref py py-func docutils literal notranslate"><span class="pre">join_system()</span></code></a> is called.</p>
</div>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="mpam.device.System.html" class="btn btn-neutral float-left" title="mpam.device.System" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="mpam.device.UserOperation.html" class="btn btn-neutral float-right" title="mpam.device.UserOperation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Evan Kirshenbaum.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>