hello = macro(int n) {
  repeat n times {
  	print "Hi!";
  }
};

test_while = macro(int n) {
  repeat while n > 0 {
    print "Hi!";
    n = n-1;
  }
};

test_until = macro(int n) {
  repeat until n == 0 {
    print "Hi!";
    n = n-1;
  }
};

test_duration = macro(int n) {
  repeat for n seconds {
    print "Hi!";
    pause 2 seconds;
  }
};

test_with = macro(int n, float s) {
  float i = 2;
  print "Before: ", i; 
  repeat with i down to n by s {
    print "In: ", i;
  }
  print "After: ", i;
};

test_temp_loop = macro() {
  repeat with temperature t = 20C to 40C by 5C {
    print t;
  }
};

test_exit = macro() {
  [outer] repeat with int i=0 to 10 {
    [inner] repeat with int j= 1 to 5 {
      print i, j;
      if j>=2 {
        exit outer loop;
      } else {
        exit inner loop;
      }
    }
    print "Unreachable";
  }
};

test_prompt = macro() {
  print "Before";
  prompt "This is", "the prompt";
  print "After";
};

test_prompt_chain = macro(drop) {
 drop 2 = drop : right 5 : (prompt "Waiting") : right 2;
};


test_maybe = macro(maybe int) {
  print the int;
};

test_return = macro(int) -> int {
  print "Before";
  if int > 3 {
     return int-1;
  } else {
     return int+1;
  }
  print "After";
};

test_par_return = macro(time t1, time t2) -> int {
  [[{ pause for t1; return 1; } 
    { pause for t2; return 2; }
   ]]
};

test_loop_return = macro(int n) -> int {
  repeat with int i=1 to 10 {
    if i>n {
      return i;
    }
  }
  return 0;
};
// test_no_return = macro(int) -> int {
//  int-1;
//};

test_loop_if_exit = macro(pad) {
  [outer] repeat with int i=1 to 10 {
    [inner] repeat with int j=1 to 10 {
      if pad has a drop {
         exit outer loop;
      } else {
         exit outer loop;
      }
    }
    print "Hi";
  }
};
